@{
    ViewData["Title"] = "Admin Dashboard";
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin-dashboard.css" asp-append-version="true" />
}

<!-- Dashboard Header -->
<section class="dashboard-header">
    <div class="container">
        <div class="header-content">
            <div class="welcome-section">
                <div class="welcome-text">
                    <h1 class="dashboard-title">
                        <i class="fas fa-shield-alt"></i>
                        Admin Dashboard
                    </h1>
                    <p class="dashboard-subtitle">Welcome back, <strong>Administrator</strong>! üë®‚Äçüíº</p>
                </div>
                <div class="admin-status">
                    <span class="status-badge status-admin">
                        <i class="fas fa-crown"></i>
                        Super Admin
                    </span>
                </div>
            </div>
            <div class="header-actions">
                <a asp-action="Coupons" class="action-btn btn-primary">
                    <i class="fas fa-ticket-alt"></i>
                    Manage Coupons
                </a>
                <a asp-action="Users" class="action-btn btn-success">
                    <i class="fas fa-users"></i>
                    View Users
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Platform Statistics Cards -->
<section class="stats-section">
    <div class="container">
        <h2 class="section-title">
            <i class="fas fa-chart-line"></i>
            Platform Overview
        </h2>
        <div class="stats-grid">
            <!-- Total Users -->
            <div class="stat-card stat-users">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-label">Total Users</h3>
                    <p class="stat-value">@ViewBag.TotalUsers</p>
                    <span class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> Platform registered users
                    </span>
                </div>
            </div>

            <!-- Total Sellers -->
            <div class="stat-card stat-sellers">
                <div class="stat-icon">
                    <i class="fas fa-store"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-label">Total Sellers</h3>
                    <p class="stat-value">@ViewBag.TotalSellers</p>
                    <span class="stat-change">
                        <i class="fas fa-check-circle"></i> Active stores
                    </span>
                </div>
            </div>

            <!-- Total Orders -->
            <div class="stat-card stat-orders">
                <div class="stat-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-label">Total Orders</h3>
                    <p class="stat-value">@ViewBag.TotalOrders</p>
                    <span class="stat-change">
                        <i class="fas fa-truck"></i> Platform-wide orders
                    </span>
                </div>
            </div>

            <!-- Total Revenue -->
            <div class="stat-card stat-revenue">
                <div class="stat-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-label">Total Revenue</h3>
                    <p class="stat-value">$@(((decimal)ViewBag.TotalRevenue).ToString("N2"))</p>
                    <span class="stat-change positive">
                        <i class="fas fa-coins"></i> Platform earnings
                    </span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Management Actions -->
<section class="quick-actions-section">
    <div class="container">
        <h2 class="section-title">
            <i class="fas fa-bolt"></i>
            Quick Management
        </h2>
        <div class="actions-grid">
            <a asp-action="Users" class="quick-action-card">
                <div class="action-icon action-icon-users">
                    <i class="fas fa-users-cog"></i>
                </div>
                <h3 class="action-title">User Management</h3>
                <p class="action-description">View, suspend, or manage all platform users</p>
            </a>

            <a asp-action="SellerApproval" class="quick-action-card">
                <div class="action-icon action-icon-approval">
                    <i class="fas fa-user-check"></i>
                </div>
                <h3 class="action-title">Seller Approval</h3>
                <p class="action-description">Review and approve new seller registrations</p>
            </a>

            <a asp-action="Coupons" class="quick-action-card">
                <div class="action-icon action-icon-coupons">
                    <i class="fas fa-tags"></i>
                </div>
                <h3 class="action-title">Coupon Management</h3>
                <p class="action-description">Create, edit, and manage discount coupons</p>
            </a>

            <a asp-controller="User" asp-action="AddDelivery" class="quick-action-card">
                <div class="action-icon action-icon-delivery">
                    <i class="fas fa-motorcycle"></i>
                </div>
                <h3 class="action-title">Add Delivery</h3>
                <p class="action-description">Register new delivery personnel to the platform</p>
            </a>

            <a asp-controller="User" asp-action="AddSeller" class="quick-action-card">
                <div class="action-icon action-icon-seller">
                    <i class="fas fa-store-alt"></i>
                </div>
                <h3 class="action-title">Add Seller</h3>
                <p class="action-description">Register new seller accounts to the platform</p>
            </a>
        </div>
    </div>
</section>

<!-- Recent Activity & Pending Actions -->
<section class="data-section">
    <div class="container">
        <div class="data-grid">
            <!-- Pending Seller Approvals -->
            <div class="data-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-clock"></i>
                        Pending Seller Approvals
                    </h2>
                    <a asp-action="SellerApproval" class="view-all-link">
                        View All
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                <div class="card-content">
                    <div class="empty-state-small">
                        <i class="fas fa-check-circle"></i>
                        <p>No pending approvals</p>
                    </div>
                </div>
            </div>

            <!-- Active Coupons -->
            <div class="data-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-ticket-alt"></i>
                        Active Coupons
                    </h2>
                    <a asp-action="Coupons" class="view-all-link">
                        View All
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                <div class="card-content">
                    @if (ViewBag.ActiveCouponsCount > 0)
                    {
                        <div class="coupon-list-small">
                            @foreach (var coupon in (List<Orderaty.Models.Coupon>)ViewBag.ActiveCoupons)
                            {
                                <div class="coupon-item-small">
                                    <div class="coupon-code-small">@coupon.Code</div>
                                    <div class="coupon-value-small">$@coupon.DiscountValue.ToString("0.00")</div>
                                    <div class="coupon-expiry-small">
                                        <i class="fas fa-clock"></i>
                                        Expires: @coupon.ExpireDate.ToString("MMM dd")
                                    </div>
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="empty-state-small">
                            <i class="fas fa-tags"></i>
                            <p>No active coupons</p>
                            <a asp-action="CreateCoupon" class="btn-small">
                                <i class="fas fa-plus"></i>
                                Create Coupon
                            </a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Add any dashboard-specific JavaScript here
        console.log('Admin Dashboard loaded');
    </script>
}
